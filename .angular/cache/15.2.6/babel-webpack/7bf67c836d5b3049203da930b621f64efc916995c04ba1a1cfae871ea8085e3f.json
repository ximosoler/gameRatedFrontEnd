{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/usuario.service\";\nimport * as i3 from \"@angular/common\";\nfunction UsuarioPlistAdminRoutedComponent_h5_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Filtrando por \", ctx_r0.strTermFilter, \" (borrar para resetear)\");\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.setFilterByUsertype(0));\n    });\n    i0.ɵɵelement(1, \"i\", 23);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Reset tipousuario \", ctx_r1.id_usertypeFilter, \" filter\");\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3C\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3D\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3C\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3D\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3C\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3D\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3C\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioPlistAdminRoutedComponent_span_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDD3D\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/admin/usuario/view\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/admin/usuario/edit\", a1];\n};\nconst _c2 = function (a1) {\n  return [\"/admin/usuario/remove\", a1];\n};\nfunction UsuarioPlistAdminRoutedComponent_tr_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 19);\n    i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_tr_41_Template_td_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const usuario_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.setFilterByUsertype(usuario_r13.id));\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"div\", 24)(13, \"button\", 25);\n    i0.ɵɵelement(14, \"i\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 27);\n    i0.ɵɵelement(16, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 29);\n    i0.ɵɵelement(18, \"i\", 30);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const usuario_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", usuario_r13.id, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r13.nick);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r13.pass);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r13.tipocuenta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", usuario_r13.id, \"-\", usuario_r13.nick, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, usuario_r13.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(11, _c1, usuario_r13.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c2, usuario_r13.id));\n  }\n}\nconst _c3 = function () {\n  return [\"/usuario/admin/new\"];\n};\nexport class UsuarioPlistAdminRoutedComponent {\n  constructor(oRouter, oUsuarioService) {\n    this.oRouter = oRouter;\n    this.oUsuarioService = oUsuarioService;\n    //\n    this.strTermFilter = \"\";\n    this.id_usertypeFilter = 0;\n    this.numberOfElements = 5;\n    this.page = 0;\n    this.sortField = \"\";\n    this.sortDirection = \"\";\n    this.oRouter.navigate(['/home']);\n  }\n  ngOnInit() {\n    this.getPage();\n  }\n  getPage() {\n    this.oUsuarioService.getUsuarioPlist(this.page, this.numberOfElements, this.strTermFilter, this.id_usertypeFilter, this.sortField, this.sortDirection).subscribe({\n      next: resp => {\n        if (this.page > resp.totalPages - 1) {\n          this.page = resp.totalPages - 1;\n        }\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  generateUser() {\n    this.oUsuarioService.generate().subscribe({\n      next: resp => {\n        this.setPage(this.responseFromServer.totalPages);\n        this.getPage();\n      }\n    });\n  }\n  setPage(e) {\n    this.page = e - 1;\n    this.getPage();\n  }\n  setRpp(rpp) {\n    this.numberOfElements = rpp;\n    this.getPage();\n  }\n  setFilter(term) {\n    this.strTermFilter = term;\n    this.getPage();\n  }\n  setFilterByUsertype(id) {\n    this.id_usertypeFilter = id;\n    this.getPage();\n  }\n  setOrder(order) {\n    this.sortField = order;\n    if (this.sortDirection == \"asc\") {\n      this.sortDirection = \"desc\";\n    } else {\n      this.sortDirection = \"asc\";\n    }\n    this.getPage();\n  }\n}\nUsuarioPlistAdminRoutedComponent.ɵfac = function UsuarioPlistAdminRoutedComponent_Factory(t) {\n  return new (t || UsuarioPlistAdminRoutedComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UsuarioService));\n};\nUsuarioPlistAdminRoutedComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsuarioPlistAdminRoutedComponent,\n  selectors: [[\"app-usuario-plist-admin-routed\"]],\n  decls: 42,\n  vars: 18,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\"], [1, \"col\"], [1, \"text-center\", \"mb-5\", \"text-decoration-underline\"], [1, \"col-md\", \"text-end\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"mb-3\"], [1, \"btn\", \"btn-success\", \"mx-3\", 3, \"routerLink\"], [3, \"placeHolder\", \"onSearch\"], [1, \"mx-2\", 3, \"PageSize\", \"eeRpp\"], [1, \"col-md\", \"d-flex\"], [3, \"nPage\", \"nTotalPages\", \"eePage\"], [1, \"d-flex\", \"justify-content-end\", \"mb-2\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"col-md\", \"text-start\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [\"class\", \"btn btn-outline-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"col-md\", \"text-end\"], [1, \"text-muted\"], [1, \"table\", \"table-bordered\", \"table-striped\", \"table-hover\", \"text-center\"], [2, \"background-color\", \"#6d5dfc\", \"color\", \"white\"], [3, \"click\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"bi\", \"bi-x-circle\"], [\"role\", \"group\", \"aria-label\", \"Herramientas\", 1, \"btn-group\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"routerLink\"], [1, \"bi\", \"bi-eye-fill\"], [1, \"btn\", \"btn-sm\", \"btn-secondary\", 3, \"routerLink\"], [1, \"bi\", \"bi-pencil-fill\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"routerLink\"], [1, \"bi\", \"bi-trash-fill\"]],\n  template: function UsuarioPlistAdminRoutedComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n      i0.ɵɵtext(4, \"Listado de usuarios\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"a\", 5);\n      i0.ɵɵtext(7, \"A\\u00F1adir usuario\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"app-search-unrouted\", 6);\n      i0.ɵɵlistener(\"onSearch\", function UsuarioPlistAdminRoutedComponent_Template_app_search_unrouted_onSearch_8_listener($event) {\n        return ctx.setFilter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"app-dropdown-register-page\", 7);\n      i0.ɵɵlistener(\"eeRpp\", function UsuarioPlistAdminRoutedComponent_Template_app_dropdown_register_page_eeRpp_9_listener($event) {\n        return ctx.setRpp($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 8)(11, \"app-pagination-unrouted\", 9);\n      i0.ɵɵlistener(\"eePage\", function UsuarioPlistAdminRoutedComponent_Template_app_pagination_unrouted_eePage_11_listener($event) {\n        return ctx.setPage($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 10)(13, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_Template_button_click_13_listener() {\n        return ctx.generateUser();\n      });\n      i0.ɵɵtext(14, \"Generar usuario aleatorio\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 12);\n      i0.ɵɵtemplate(16, UsuarioPlistAdminRoutedComponent_h5_16_Template, 2, 1, \"h5\", 13);\n      i0.ɵɵtemplate(17, UsuarioPlistAdminRoutedComponent_button_17_Template, 3, 1, \"button\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 15)(19, \"h5\", 16);\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"table\", 17)(22, \"thead\", 18)(23, \"tr\")(24, \"th\", 19);\n      i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_Template_th_click_24_listener() {\n        return ctx.setOrder(\"id\");\n      });\n      i0.ɵɵtext(25, \"ID \");\n      i0.ɵɵtemplate(26, UsuarioPlistAdminRoutedComponent_span_26_Template, 2, 0, \"span\", 20);\n      i0.ɵɵtemplate(27, UsuarioPlistAdminRoutedComponent_span_27_Template, 2, 0, \"span\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\", 19);\n      i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_Template_th_click_28_listener() {\n        return ctx.setOrder(\"nick\");\n      });\n      i0.ɵɵtext(29, \"NICK \");\n      i0.ɵɵtemplate(30, UsuarioPlistAdminRoutedComponent_span_30_Template, 2, 0, \"span\", 20);\n      i0.ɵɵtemplate(31, UsuarioPlistAdminRoutedComponent_span_31_Template, 2, 0, \"span\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"th\", 19);\n      i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_Template_th_click_32_listener() {\n        return ctx.setOrder(\"pass\");\n      });\n      i0.ɵɵtext(33, \"PASS \");\n      i0.ɵɵtemplate(34, UsuarioPlistAdminRoutedComponent_span_34_Template, 2, 0, \"span\", 20);\n      i0.ɵɵtemplate(35, UsuarioPlistAdminRoutedComponent_span_35_Template, 2, 0, \"span\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"th\", 19);\n      i0.ɵɵlistener(\"click\", function UsuarioPlistAdminRoutedComponent_Template_th_click_36_listener() {\n        return ctx.setOrder(\"tipocuenta\");\n      });\n      i0.ɵɵtext(37, \"TIPO DE CUENTA \");\n      i0.ɵɵtemplate(38, UsuarioPlistAdminRoutedComponent_span_38_Template, 2, 0, \"span\", 20);\n      i0.ɵɵtemplate(39, UsuarioPlistAdminRoutedComponent_span_39_Template, 2, 0, \"span\", 20);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(40, \"tbody\");\n      i0.ɵɵtemplate(41, UsuarioPlistAdminRoutedComponent_tr_41_Template, 19, 15, \"tr\", 21);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c3));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"placeHolder\", \"Buscar usuario\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"PageSize\", ctx.responseFromServer == null ? null : ctx.responseFromServer.numberOfElements);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"nPage\", ctx.responseFromServer.number + 1)(\"nTotalPages\", ctx.responseFromServer.totalPages);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.strTermFilter != \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.id_usertypeFilter != 0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total de registros en la consulta \", ctx.responseFromServer == null ? null : ctx.responseFromServer.totalElements, \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"id\" && ctx.sortDirection == \"asc\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"id\" && ctx.sortDirection == \"desc\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"nick\" && ctx.sortDirection == \"asc\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"nick\" && ctx.sortDirection == \"desc\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"pass\" && ctx.sortDirection == \"asc\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"pass\" && ctx.sortDirection == \"desc\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"tipocuenta\" && ctx.sortDirection == \"asc\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.sortField == \"tipocuenta\" && ctx.sortDirection == \"desc\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.responseFromServer == null ? null : ctx.responseFromServer.content);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsuarioPlistAdminRoutedComponent","constructor","oRouter","oUsuarioService","navigate","ngOnInit","getPage","getUsuarioPlist","page","numberOfElements","strTermFilter","id_usertypeFilter","sortField","sortDirection","subscribe","next","resp","totalPages","error","err","console","log","generateUser","generate","setPage","responseFromServer","e","setRpp","rpp","setFilter","term","setFilterByUsertype","id","setOrder","order","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/datos/usuarios/alumnos/a073225298z/gameRatedFrontEnd/src/app/component/application/usuario/routed/admin/usuario-plist-admin-routed/usuario-plist-admin-routed.component.html","/datos/usuarios/alumnos/a073225298z/gameRatedFrontEnd/src/app/component/application/usuario/routed/admin/usuario-plist-admin-routed/usuario-plist-admin-routed.component.ts"],"sourcesContent":["<div class=\"container mt-5\">\n  <div class=\"row\">\n    <div class=\"col\">\n      <h1 class=\"text-center mb-5 text-decoration-underline\">Listado de usuarios</h1>\n      <div class=\"col-md text-end d-flex justify-content-center align-items-center mb-3 \">\n        <a [routerLink]=\"['/usuario/admin/new']\" class=\"btn btn-success mx-3\">Añadir usuario</a>\n        <app-search-unrouted [placeHolder]=\"'Buscar usuario'\" (onSearch)=\"setFilter( $event )\"></app-search-unrouted>\n        <app-dropdown-register-page class=\"mx-2\" [PageSize]=\"responseFromServer?.numberOfElements\"\n        (eeRpp)=\"this.setRpp($event)\"></app-dropdown-register-page>\n      </div>\n      <div class=\"col-md d-flex\">\n        <app-pagination-unrouted [nPage]=\"responseFromServer.number + 1\" [nTotalPages]=\"responseFromServer.totalPages\"\n          (eePage)=\"setPage($event)\"></app-pagination-unrouted>\n      </div>\n      <div class=\"d-flex justify-content-end mb-2 \">\n        <button class=\"btn btn-success\" (click)=\"generateUser()\">Generar usuario aleatorio</button>\n      </div>\n      <div class=\"col-md text-start\">\n        <h5 class=\"text-muted\" *ngIf=\"strTermFilter!=''\">Filtrando por {{strTermFilter}} (borrar para resetear)</h5>\n        <button class=\"btn btn-outline-danger\" *ngIf=\"id_usertypeFilter!=0\" (click)=\"setFilterByUsertype(0)\">\n          <i class=\"bi bi-x-circle\"></i> Reset tipousuario {{id_usertypeFilter}} filter</button>\n      </div>\n      <div class=\"col-md text-end\">\n        <h5 class=\"text-muted\">Total de registros en la consulta {{responseFromServer?.totalElements}}</h5>\n      </div>\n      <table class=\"table table-bordered table-striped table-hover text-center\">\n        <thead style=\"background-color: #6d5dfc; color: white;\">\n          <tr>\n            <th (click)=\"setOrder('id')\" >ID\n              <span *ngIf=\"sortField=='id'&&sortDirection=='asc'\">🔼</span>\n              <span *ngIf=\"sortField=='id'&&sortDirection=='desc'\">🔽</span>\n            </th>\n            <th (click)=\"setOrder('nick')\">NICK\n              <span *ngIf=\"sortField=='nick'&&sortDirection=='asc'\">🔼</span>\n              <span *ngIf=\"sortField=='nick'&&sortDirection=='desc'\">🔽</span>\n            </th>\n            <th (click)=\"setOrder('pass')\">PASS\n              <span *ngIf=\"sortField=='pass'&&sortDirection=='asc'\">🔼</span>\n              <span *ngIf=\"sortField=='pass'&&sortDirection=='desc'\">🔽</span>\n            </th>\n            <th (click)=\"setOrder('tipocuenta')\">TIPO DE CUENTA\n              <span *ngIf=\"sortField=='tipocuenta'&&sortDirection=='asc'\">🔼</span>\n              <span *ngIf=\"sortField=='tipocuenta'&&sortDirection=='desc'\">🔽</span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let usuario of responseFromServer?.content\">\n            <td>{{usuario.id}} </td>\n            <td>{{usuario.nick}}</td>\n            <td>{{usuario.pass}}</td>\n            <td>{{usuario.tipocuenta}}</td>\n            <td (click)=\"setFilterByUsertype(usuario.id)\">{{usuario.id}}-{{usuario.nick}}</td>\n            <td>\n              <div class=\"btn-group \"  role=\"group\" aria-label=\"Herramientas\">\n                <button class=\"btn btn-sm btn-info\" [routerLink]=\"['/admin/usuario/view',usuario.id]\">\n                  <i class=\"bi bi-eye-fill\"></i>\n                </button>\n                <button class=\"btn btn-sm btn-secondary\" [routerLink]=\"['/admin/usuario/edit',usuario.id]\">\n                  <i class=\"bi bi-pencil-fill\"></i>\n                </button>\n                <button class=\"btn btn-sm btn-danger\" [routerLink]=\"['/admin/usuario/remove',usuario.id]\">\n                  <i class=\"bi bi-trash-fill\"></i>\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UsuarioService } from 'src/app/service/usuario.service';\nimport { IPage } from 'src/app/model/generic-types-interface';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { IUsuario } from 'src/app/model/usuario-interface';\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\n\n\n\n@Component({\n  selector: 'app-usuario-plist-admin-routed',\n  templateUrl: './usuario-plist-admin-routed.component.html',\n  styleUrls: ['./usuario-plist-admin-routed.component.css'],\n})\nexport class UsuarioPlistAdminRoutedComponent implements OnInit {\n  responseFromServer: IPage<IUsuario>;\n  //\n  strTermFilter: string = \"\";\n  id_usertypeFilter: number = 0;\n  numberOfElements: number = 5;\n  page: number = 0;\n  sortField: string = \"\";\n  sortDirection: string = \"\";\n\n\n  constructor(\n    protected oRouter: Router,\n    private oUsuarioService: UsuarioService,\n    ) { \n      this.oRouter.navigate(['/home']);\n\n  }\n\n  ngOnInit() {\n    this.getPage();\n\n  }\n\n  getPage() {\n    this.oUsuarioService.getUsuarioPlist(this.page, this.numberOfElements,\n      this.strTermFilter, this.id_usertypeFilter, this.sortField, this.sortDirection)\n      .subscribe({\n        next: (resp: IPage<IUsuario>) => {\n          if (this.page > resp.totalPages - 1) {\n            this.page = resp.totalPages - 1;\n          }\n        },\n        error: (err: HttpErrorResponse) => {\n          console.log(err);\n        }\n      })\n  }\n\n  generateUser(){\n\n    this.oUsuarioService.generate().subscribe({\n      next: (resp: IUsuario) => {\n\n        this.setPage(this.responseFromServer.totalPages)\n        this.getPage();\n      }\n    });\n  }\n\n  \n  setPage(e: number) {\n    this.page = (e - 1);\n    this.getPage();\n  }\n\n  setRpp(rpp: number) {\n    this.numberOfElements = rpp;\n    this.getPage();\n  }\n\n  setFilter(term: string): void {\n    this.strTermFilter = term;\n    this.getPage();\n  }\n\n  setFilterByUsertype(id: number): void {\n    this.id_usertypeFilter = id;\n    this.getPage();\n  }\n\n  setOrder(order: string): void {\n    this.sortField = order;\n    if (this.sortDirection == \"asc\") {\n      this.sortDirection = \"desc\";\n    } else {\n      this.sortDirection = \"asc\";\n    }\n    this.getPage();\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}