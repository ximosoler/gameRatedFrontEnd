{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet UsuarioEditAdminRoutedComponent = class UsuarioEditAdminRoutedComponent {\n  constructor(oActivatedRoute, oRouter, oUsuarioService, oFormBuilder) {\n    this.oActivatedRoute = oActivatedRoute;\n    this.oRouter = oRouter;\n    this.oUsuarioService = oUsuarioService;\n    this.oFormBuilder = oFormBuilder;\n    this.id = 0;\n    this.oUsuario = null;\n    this.oUsuario2Form = null;\n    this.oUsuario2Send = null;\n    this.mimodal = \"miModal\";\n    this.modalTitle = \"\";\n    this.modalContent = \"\";\n    this.showModal = () => {\n      this.myModal = new bootstrap.Modal(document.getElementById(this.mimodal), {\n        keyboard: false\n      });\n      var myModalEl = document.getElementById(this.mimodal);\n      myModalEl.addEventListener('hidden.bs.modal', event => {\n        this.oRouter.navigate(['/admin/usuario/view', this.id]);\n      });\n      this.myModal.show();\n    };\n    this.id = this.oActivatedRoute.snapshot.params['id'];\n  }\n  ngOnInit() {\n    this.getOne();\n  }\n  getOne() {\n    this.oUsuarioService.getOne(this.id).subscribe({\n      next: data => {\n        this.oUsuario = data;\n        console.log(data);\n        this.oForm = this.oFormBuilder.group({\n          id: [data.id, [Validators.required]],\n          nick: [data.nick, [Validators.required]],\n          pass: [data.pass, [Validators.required]],\n          tipocuenta: [data.pass, [Validators.required]]\n        });\n      }\n    });\n  }\n  onSubmit() {\n    console.log('onSubmit');\n    this.oUsuario2Send = {\n      id: this.oForm.value.id,\n      nick: this.oForm.value.nick,\n      pass: this.oForm.value.pass,\n      tipocuenta: this.oForm.value.tipocuenta\n    };\n    if (this.oForm.valid) {\n      console.log(\"Entra pero no va\");\n      console.log(this.oUsuario2Send);\n      this.oUsuarioService.updateOne(this.oUsuario2Send).subscribe({\n        next: data => {\n          this.modalTitle = 'GAMERATED';\n          this.modalContent = 'User ' + this.id + ' updated';\n          this.oRouter.navigate(['/admin/user/view', this.id]);\n        }\n      });\n    }\n  }\n  openModalFindUsertype() {}\n};\nUsuarioEditAdminRoutedComponent = __decorate([Component({\n  selector: 'app-usuario-edit-admin-routed',\n  templateUrl: './usuario-edit-admin-routed.component.html',\n  styleUrls: ['./usuario-edit-admin-routed.component.css']\n})], UsuarioEditAdminRoutedComponent);\nexport { UsuarioEditAdminRoutedComponent };","map":{"version":3,"names":["Component","Validators","UsuarioEditAdminRoutedComponent","constructor","oActivatedRoute","oRouter","oUsuarioService","oFormBuilder","id","oUsuario","oUsuario2Form","oUsuario2Send","mimodal","modalTitle","modalContent","showModal","myModal","bootstrap","Modal","document","getElementById","keyboard","myModalEl","addEventListener","event","navigate","show","snapshot","params","ngOnInit","getOne","subscribe","next","data","console","log","oForm","group","required","nick","pass","tipocuenta","onSubmit","value","valid","updateOne","openModalFindUsertype","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\xsole\\gameRatedFrontEnd\\src\\app\\component\\application\\usuario\\routed\\admin\\usuario-edit-admin-routed\\usuario-edit-admin-routed.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UsuarioService } from 'src/app/service/usuario.service';\r\nimport { IUsuario, IUsuario2Form, IUsuario2Send } from 'src/app/model/usuario-interface';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\n\r\n\r\ndeclare let bootstrap: any;\r\n\r\n@Component({\r\n  selector: 'app-usuario-edit-admin-routed',\r\n  templateUrl: './usuario-edit-admin-routed.component.html',\r\n  styleUrls: ['./usuario-edit-admin-routed.component.css']\r\n})\r\nexport class UsuarioEditAdminRoutedComponent implements OnInit {\r\n\r\n  id: number = 0;\r\n  oUsuario: IUsuario = null;\r\n  oUsuario2Form: IUsuario2Form = null;\r\n  oUsuario2Send: IUsuario2Send = null;\r\n  oForm: FormGroup<IUsuario2Form>;\r\n\r\n  mimodal: string = \"miModal\";\r\n  myModal: any;\r\n  modalTitle: string = \"\";\r\n  modalContent: string = \"\";\r\n\r\n\r\n  constructor(\r\n    private oActivatedRoute: ActivatedRoute,\r\n    private oRouter: Router,\r\n    private oUsuarioService: UsuarioService,\r\n    private oFormBuilder: FormBuilder\r\n  ) {\r\n    this.id = this.oActivatedRoute.snapshot.params['id'];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getOne();\r\n  }\r\n\r\n  getOne() {\r\n    this.oUsuarioService.getOne(this.id).subscribe({\r\n      next:(data:IUsuario)=>{\r\n        this.oUsuario= data;\r\n        console.log(data);\r\n        this.oForm = <FormGroup>this.oFormBuilder.group({\r\n          id: [data.id, [Validators.required]],\r\n          nick: [data.nick, [Validators.required]],\r\n          pass: [data.pass, [Validators.required]],\r\n          tipocuenta: [data.pass, [Validators.required]]\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log('onSubmit');\r\n\r\n    this.oUsuario2Send = {\r\n      id: this.oForm.value.id,\r\n      nick: this.oForm.value.nick,\r\n      pass: this.oForm.value.pass,\r\n      tipocuenta: this.oForm.value.tipocuenta,\r\n      \r\n    };\r\n\r\n    if (this.oForm.valid) {\r\n\r\n\r\n      console.log(\"Entra pero no va\");\r\n      console.log(this.oUsuario2Send);\r\n\r\n      this.oUsuarioService.updateOne(this.oUsuario2Send).subscribe({\r\n        next: (data: number) => {\r\n          this.modalTitle = 'GAMERATED';\r\n          this.modalContent = 'User ' + this.id + ' updated';\r\n          this.oRouter.navigate(['/admin/user/view', this.id]);\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  showModal = () => {\r\n    this.myModal = new bootstrap.Modal(document.getElementById(this.mimodal), {\r\n      keyboard: false,\r\n    });\r\n    var myModalEl = document.getElementById(this.mimodal);\r\n\r\n    myModalEl.addEventListener('hidden.bs.modal', (event): void => {\r\n      this.oRouter.navigate(['/admin/usuario/view', this.id]);\r\n    });\r\n    this.myModal.show();\r\n  };\r\n\r\n\r\n  openModalFindUsertype(): void {\r\n\r\n  }\r\n\r\n  \r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}