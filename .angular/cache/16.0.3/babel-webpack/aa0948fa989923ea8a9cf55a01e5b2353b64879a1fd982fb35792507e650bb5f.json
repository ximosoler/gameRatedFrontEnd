{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { EmitEvent, Events } from 'src/app/service/session.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/service/session.service\";\nimport * as i4 from \"src/app/service/decode.service\";\nclass LoginComponent {\n  constructor(oRouter, oFormBuilder, oSessionService, oDecodeService) {\n    this.oRouter = oRouter;\n    this.oFormBuilder = oFormBuilder;\n    this.oSessionService = oSessionService;\n    this.oDecodeService = oDecodeService;\n    if (this.oSessionService.isSessionActive()) {\n      this.oRouter.navigate(['/home']);\n    }\n    this.oFormularioLogin = this.oFormBuilder.group({\n      username: ['', [Validators.required, Validators.minLength(5)]],\n      password: ['', [Validators.required, Validators.minLength(5)]]\n    });\n  }\n  ngOnInit() {}\n  login() {\n    this.oSessionService.login(this.oFormularioLogin.get('nick').value, this.oFormularioLogin.get('pass').value).subscribe({\n      next: data => {\n        localStorage.setItem(\"token\", data);\n        this.oSessionService.emit(new EmitEvent(Events.login, data));\n        this.oRouter.navigate(['/home']);\n      },\n      error: error => {\n        console.log(error.status, error.statusText);\n      }\n    });\n  }\n  loginAsAdmin() {\n    console.log(\"loginAsAdmin\");\n    this.oFormularioLogin.controls.nick.setValue(\"raivi\");\n    this.oFormularioLogin.controls.pass.setValue(\"andamio\");\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.SessionService), i0.ɵɵdirectiveInject(i4.DecodeService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 23,\n  vars: 0,\n  consts: [[1, \"container-fluid\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"m-5\"], [1, \"col\"], [1, \"d-flex\", \"flex-row\", \"justify-content-center\"], [1, \"card\", \"p-5\", 2, \"width\", \"25rem\"], [2, \"width\", \"fit-content\"], [1, \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-start\"], [1, \"lead\", \"fw-normal\", \"my-3\"], [1, \"form-outline\", \"mb-4\"], [\"for\", \"login\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"username\", \"placeholder\", \"Enter a username\", \"name\", \"username\", \"formControlName\", \"username\", 1, \"form-control\"], [1, \"form-outline\", \"mb-3\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter password\", \"name\", \"password\", \"formControlName\", \"username\", 1, \"form-control\"], [1, \"text-center\", \"text-lg-start\", \"mt-4\", \"pt-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"padding-left\", \"2.5rem\", \"padding-right\", \"2.5rem\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", 2, \"padding-left\", \"2.5rem\", \"padding-right\", \"2.5rem\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"form\", 5)(6, \"div\", 6)(7, \"p\", 7);\n      i0.ɵɵtext(8, \"LOGIN\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"label\", 9);\n      i0.ɵɵtext(11, \"Nick\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"label\", 12);\n      i0.ɵɵtext(15, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 14)(18, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_18_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(19, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 14)(21, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_21_listener() {\n        return ctx.loginAsAdmin();\n      });\n      i0.ɵɵtext(22, \"Login as admin\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { LoginComponent };","map":{"version":3,"names":["Validators","EmitEvent","Events","LoginComponent","constructor","oRouter","oFormBuilder","oSessionService","oDecodeService","isSessionActive","navigate","oFormularioLogin","group","username","required","minLength","password","ngOnInit","login","get","value","subscribe","next","data","localStorage","setItem","emit","error","console","log","status","statusText","loginAsAdmin","controls","nick","setValue","pass","i0","ɵɵdirectiveInject","i1","Router","i2","FormBuilder","i3","SessionService","i4","DecodeService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LoginComponent_Template_button_click_18_listener","LoginComponent_Template_button_click_21_listener"],"sources":["C:\\Users\\xsole\\gameRatedFrontEnd\\src\\app\\component\\shared\\routed\\login\\login.component.ts","C:\\Users\\xsole\\gameRatedFrontEnd\\src\\app\\component\\shared\\routed\\login\\login.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { IUser } from 'src/app/model/user-interface';\r\nimport { DecodeService } from 'src/app/service/decode.service';\r\nimport { EmitEvent, Events, SessionService } from 'src/app/service/session.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\n\r\nexport class LoginComponent implements OnInit {\r\n\r\n  oFormularioLogin: FormGroup<IUser>;\r\n\r\n  constructor(\r\n    protected oRouter: Router,\r\n    private oFormBuilder: FormBuilder,\r\n    private oSessionService: SessionService,\r\n    private oDecodeService: DecodeService\r\n\r\n  ) {\r\n\r\n    if (this.oSessionService.isSessionActive()) {\r\n      this.oRouter.navigate(['/home']);      \r\n    } \r\n\r\n\r\n\r\n    this.oFormularioLogin = <FormGroup>this.oFormBuilder.group({\r\n      username: ['', [Validators.required, Validators.minLength(5)]],\r\n      password: ['', [Validators.required, Validators.minLength(5)]]\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  login() {\r\n    this.oSessionService.login(this.oFormularioLogin.get('nick')!.value, this.oFormularioLogin.get('pass')!.value)\r\n      .subscribe({\r\n        next: (data: string) => {\r\n          localStorage.setItem(\"token\", data);\r\n          this.oSessionService.emit(new EmitEvent(Events.login, data));\r\n          this.oRouter.navigate(['/home']);\r\n        },\r\n        error: (error: HttpErrorResponse) => {\r\n          console.log(error.status, error.statusText);\r\n        }\r\n      })\r\n  }\r\n\r\n  loginAsAdmin() {\r\n    console.log(\"loginAsAdmin\");\r\n    this.oFormularioLogin.controls.nick.setValue(\"raivi\");\r\n    this.oFormularioLogin.controls.pass.setValue(\"andamio\");\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div class=\"row d-flex justify-content-center align-items-center m-5\">\r\n\r\n    <div class=\"col\">\r\n\r\n    \r\n\r\n        <div class=\"d-flex flex-row justify-content-center\">\r\n          <div class=\"card p-5\" style=\"width: 25rem;\">\r\n          <form style=\"width:fit-content\" >\r\n\r\n            <div class=\"d-flex flex-row align-items-center justify-content-start \">\r\n              <p class=\"lead fw-normal my-3\">LOGIN</p>\r\n            </div>\r\n\r\n            <!-- username input -->\r\n            <div class=\"form-outline mb-4\">\r\n              <label class=\"form-label\" for=\"login\">Nick</label>\r\n              <input type=\"text\" id=\"username\" class=\"form-control\" placeholder=\"Enter a username\" name=\"username\"\r\n                formControlName=\"username\" />\r\n\r\n            </div>\r\n\r\n            <!-- Password input -->\r\n            <div class=\"form-outline mb-3\">\r\n              <label class=\"form-label\" for=\"password\">Password</label>\r\n              <input type=\"password\" id=\"password\" class=\"form-control\" placeholder=\"Enter password\" name=\"password\"\r\n                formControlName=\"username\" />\r\n            </div>\r\n\r\n            <div class=\"text-center text-lg-start mt-4 pt-2\">\r\n              <button type=\"button\" class=\"btn btn-primary\" style=\"padding-left: 2.5rem; padding-right: 2.5rem;\"\r\n                (click)=\"login()\">Login</button>\r\n            </div>\r\n\r\n            <div class=\"text-center text-lg-start mt-4 pt-2\">\r\n              <button type=\"button\" class=\"btn btn-warning\" style=\"padding-left: 2.5rem; padding-right: 2.5rem;\"\r\n                (click)=\"loginAsAdmin()\">Login as admin</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}