{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet UsuarioNewAdminRoutedComponent = class UsuarioNewAdminRoutedComponent {\n  constructor(oActivatedRoute, oRouter, oUsuarioService, oFormBuilder) {\n    this.oActivatedRoute = oActivatedRoute;\n    this.oRouter = oRouter;\n    this.oUsuarioService = oUsuarioService;\n    this.oFormBuilder = oFormBuilder;\n    this.id = 0;\n    this.oUsuario = null;\n    this.oUsuario2Form = null;\n    this.oUsuario2Send = null;\n    this.mimodal = \"miModal\";\n    this.modalTitle = \"\";\n    this.modalContent = \"\";\n    this.showModal = () => {\n      this.myModal = new bootstrap.Modal(document.getElementById(this.mimodal), {\n        keyboard: false\n      });\n      var myModalEl = document.getElementById(this.mimodal);\n      myModalEl.addEventListener('hidden.bs.modal', event => {\n        this.oRouter.navigate(['/admin/usuario/view', this.oUsuario2Send.id]);\n      });\n      this.myModal.show();\n    };\n    // this.id = this.oActivatedRoute.snapshot.params['id'];\n  }\n\n  ngOnInit() {\n    // this.getOne();\n    this.oForm = this.oFormBuilder.group({\n      id: [''],\n      nick: ['', [Validators.required]],\n      pass: ['', [Validators.required]],\n      tipocuenta: ['', [Validators.required]]\n    });\n  }\n  getOne() {\n    this.oUsuarioService.getOne(this.id).subscribe({\n      next: data => {\n        this.oUsuario = data;\n        console.log(data);\n        this.oForm = this.oFormBuilder.group({\n          id: [data.id, [Validators.required]],\n          nick: [data.nick, [Validators.required]],\n          pass: [data.pass, [Validators.required]],\n          tipocuenta: [data.pass, [Validators.required]]\n        });\n      }\n    });\n  }\n  onSubmit() {\n    console.log(\"onSubmit\");\n    this.oUsuario2Send = {\n      id: this.oForm.value.id,\n      nick: this.oForm.value.nick,\n      pass: this.oForm.value.pass,\n      tipocuenta: this.oForm.value.tipocuenta\n    };\n    if (this.oForm.valid) {\n      this.oUsuarioService.newOne(this.oUsuario2Send).subscribe({\n        next: data => {\n          //open bootstrap modal here\n          this.modalTitle = \"GAMERATED\";\n          this.modalContent = \"User \" + this.oUsuario2Send.id + \" created\";\n          this.showModal();\n        }\n      });\n    }\n  }\n  openModalFindUsertype() {}\n};\nUsuarioNewAdminRoutedComponent = __decorate([Component({\n  selector: 'app-usuario-new-admin-routed',\n  templateUrl: './usuario-new-admin-routed.component.html',\n  styleUrls: ['./usuario-new-admin-routed.component.css']\n})], UsuarioNewAdminRoutedComponent);\nexport { UsuarioNewAdminRoutedComponent };","map":{"version":3,"names":["Component","Validators","UsuarioNewAdminRoutedComponent","constructor","oActivatedRoute","oRouter","oUsuarioService","oFormBuilder","id","oUsuario","oUsuario2Form","oUsuario2Send","mimodal","modalTitle","modalContent","showModal","myModal","bootstrap","Modal","document","getElementById","keyboard","myModalEl","addEventListener","event","navigate","show","ngOnInit","oForm","group","nick","required","pass","tipocuenta","getOne","subscribe","next","data","console","log","onSubmit","value","valid","newOne","openModalFindUsertype","__decorate","selector","templateUrl","styleUrls"],"sources":["/datos/usuarios/alumnos/a073225298z/gameRatedFrontEnd/src/app/component/application/usuario/routed/admin/usuario-new-admin-routed/usuario-new-admin-routed.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UsuarioService } from 'src/app/service/usuario.service';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { IUsuario, IUsuario2Form, IUsuario2Send } from 'src/app/model/usuario-interface';\n\ndeclare let bootstrap: any;\n\n@Component({\n  selector: 'app-usuario-new-admin-routed',\n  templateUrl: './usuario-new-admin-routed.component.html',\n  styleUrls: ['./usuario-new-admin-routed.component.css']\n})\nexport class UsuarioNewAdminRoutedComponent implements OnInit {\n\n  id: number = 0;\n  oUsuario: IUsuario = null;\n  oUsuario2Form: IUsuario2Form = null;\n  oUsuario2Send: IUsuario2Send = null;\n  oForm: FormGroup<IUsuario2Form>;\n\n  mimodal: string = \"miModal\";\n  myModal: any;\n  modalTitle: string = \"\";\n  modalContent: string = \"\";\n\n  constructor(\n    private oActivatedRoute: ActivatedRoute,\n    private oRouter: Router,\n    private oUsuarioService: UsuarioService,\n    private oFormBuilder: FormBuilder\n  ) {\n    // this.id = this.oActivatedRoute.snapshot.params['id'];\n  }\n\n  ngOnInit() {\n    // this.getOne();\n    this.oForm = <FormGroup>this.oFormBuilder.group({\n      id: [''],\n      nick: ['', [Validators.required]],\n      pass: ['', [Validators.required]],\n      tipocuenta: ['', [Validators.required]]\n    })\n  }\n\n  getOne() {\n    this.oUsuarioService.getOne(this.id).subscribe({\n      next: (data: IUsuario) => {\n        this.oUsuario = data;\n        console.log(data);\n        this.oForm = <FormGroup>this.oFormBuilder.group({\n          id: [data.id, [Validators.required]],\n          nick: [data.nick, [Validators.required]],\n          pass: [data.pass, [Validators.required]],\n          tipocuenta: [data.pass, [Validators.required]]\n        })\n      }\n    })\n  }\n\n  onSubmit():void {\n    console.log(\"onSubmit\");\n    this.oUsuario2Send = {\n      id: this.oForm.value.id,\n      nick: this.oForm.value.nick,\n      pass: this.oForm.value.pass,\n      tipocuenta: this.oForm.value.tipocuenta,\n    }\n    if (this.oForm.valid) {\n      this.oUsuarioService.newOne(this.oUsuario2Send).subscribe({\n        next: (data: number) => {\n          //open bootstrap modal here\n          this.modalTitle = \"GAMERATED\";\n          this.modalContent = \"User \" + this.oUsuario2Send.id + \" created\";\n          this.showModal();\n        }\n      })\n    }\n  }\n\n  showModal = () => {\n    this.myModal = new bootstrap.Modal(document.getElementById(this.mimodal), { //pasar el myModal como parametro\n      keyboard: false\n    })\n    var myModalEl = document.getElementById(this.mimodal);\n    myModalEl.addEventListener('hidden.bs.modal', (event): void => {\n      this.oRouter.navigate(['/admin/usuario/view', this.oUsuario2Send.id])\n    })\n    this.myModal.show()\n  }\n\n\n  openModalFindUsertype(): void {\n\n  }\n\n\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}